# database/sql

Чтобы узнать, что чаще всего гуглят разработчики про Go и SQL, достаточно взглянуть на список самых популярных вопросов на Stack Overflow:

+ Что означает символ _ перед импортом пакета для работы с базой данных?
+ Как рекомендуется подключаться к базе данных в Go?
+ Транзакции в SQL — как определить, Commit или Rollback?
+ Как сконвертировать запись из базы данных в структуру на Go?

## Пакет gomock. Имитация данных для тестирования

Хорошая практика — тестировать написанный код. Для этого стандартная библиотека предлагает пакет testing. Пакет предназначен для юнит-тестирования и прекрасно справляется со своими задачами. Сложности возникают, когда тестируемый код активно работает с базами данных и сетевыми соединениями. А код на Go, серверном языке, по большей части именно такой и есть. 

Чтобы протестировать код, работающий с БД, нужно обеспечить окружение, включающее эту базу данных. И обеспечить нужно в песочнице, а не в производственной среде, чтобы не поломать производственные процессы. Получится уже не юнит-, а интеграционное тестирование. 

Иногда для упрощения юнит-тестирования применяют заглушки, **моки — mocks**.

 Сервис описывают интерфейсом, а в тестовой среде подменяют сервис заглушкой, которая реализует интерфейс, но не выполняет фактических вычислений. Это распространённый приём в тестировании. Только писать заглушки — занятие хоть и рутинное, но трудоёмкое. Для экономии времени используют пакеты, автоматизирующие создание mocks путём генерации кода заглушек из объявленных интерфейсов. Наиболее популярны пакеты, зарекомендовавшие себя на практике, — это testify и gomock, они похожи по функционалу.
В этом уроке остановимся на **gomock**.